query UpcomingAgreement {
  contracts {
    status {
      ... on ActiveStatus {
        upcomingAgreementChange {
          ... UpcomingAgreementFragment
        }
      }
      ... on TerminatedInFutureStatus {
        upcomingAgreementChange {
          ... UpcomingAgreementFragment
        }
      }
      ... on TerminatedTodayStatus {
        upcomingAgreementChange {
          ... UpcomingAgreementFragment
        }
      }
    }
  }
}

fragment UpcomingAgreementFragment on UpcomingAgreementChange {
  newAgreement {
    ... on SwedishApartmentAgreement {
      address {
        ...AddressFragment
      }
      squareMeters
      activeFrom
      saType: type
      numberCoInsured
    }
    ... on SwedishHouseAgreement {
      address {
        ...AddressFragment
      }
      squareMeters
      activeFrom
      ancillaryArea
      yearOfConstruction
      extraBuildings {
        ...on ExtraBuildingCore {
          area
          displayName
          hasWaterConnected
        }
      }
      isSubleted
      numberCoInsured
      numberOfBathrooms
    }
    ... on NorwegianHomeContentAgreement {
      address {
        ...AddressFragment
      }
      squareMeters
      activeFrom
      nhcType: type
      numberCoInsured
    }
    ... on DanishHomeContentAgreement {
      address {
        ...AddressFragment
      }
      squareMeters
      activeFrom
      dhcType: type
      numberCoInsured
    }
  }
}
